<!-- profile.ejs -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pinterest</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="stylesheets/profile.css" />
  </head>

  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <div class="navbar">
      <div class="navbar-links">
          <!-- <img
          src="https://www.freepnglogos.com/uploads/pinterest-logo-p-png-0.png"
          alt="Logo"
          style="height: 30px; margin-right: 5px;"
          /> -->
        <a href="/feed" class="a">Home</a>
        <!-- <a href="/logout" class="a">Logout</a> -->
        <a href="#" class="a">Explore</a>
        <!-- <a href="/edit_profile" class="a">Edit Profile</a> -->
        <a href="/upload" class="a">Create</a>
      </div>
      <div class="navbar-search">
        <div class="first-part">
        <label for="Search">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" id="Search" class="bi bi-search" viewBox="0 0 16 16">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
        </svg>
      </label>
      <input type="text" placeholder="Search Your Pins" class="search" id="Search"/>
      </div>  
      <div class="second-part">
      <div class="second-first-part">
        |
      </div>
      <div class="second-second-part">
      Your Pins
      </div>
    </div>   
    </div>
    <div class="icon-links">
      <div class="notification">
        <a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16" style="color: rgb(41, 39, 39);">
          <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6"/>
        </svg>
      </a>
      </div>
      <div class="comments">
        <a href="#">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16" style="color: rgb(41, 39, 39);">
            <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
            <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2"/>
          </svg>
        </a>
      </div>
      <div class="profile-icon">
        <a href="/edit_profile">
          <img
            src="<%= user.dp ? '/images/profileimages/' + user.dp : 'https://images.unsplash.com/photo-1699901853492-8bc942fc6a5c?q=80&w=1965&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' %>"
            alt="Profile Picture"
            
          />
        </a>
      </div>
      <div class="logout">
        <a href="/logout">Logout</a>
      </div>
    </div>
      
    </div>

    <div class="mycontainer">
      <div class="mycard">
        <div class="profile-picture">
          <!-- Set the default image source -->
          <img
            src="<%= user.dp ? '/images/profileimages/' + user.dp : 'https://images.unsplash.com/photo-1699901853492-8bc942fc6a5c?q=80&w=1965&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' %>"
            alt="Profile Picture"
          />
        </div>
        <h2 class="name"><%= user.fullname %></h2>
        <h3 class="username">@<%= user.username %></h3>
        <p class="tagline">
          <%= user.tagline || 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorem, laborum.' %>
        </p>
        <p class="description">
          <%= user.description || 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem, tenetur. Est exercitationem, consequatur ex eius iste sequi accusamus quam tempora odio esse ut suscipit, natus enim sed? Sint, voluptas quas.' %>
        </p>
        <!-- Flash message for image upload success -->
        <% if (typeof messages !== 'undefined' && messages.success) { %>
          <div id="flash-message" class="alert alert-success" role="alert">
            <%= messages.success %>
          </div>
          <script>
            // Automatically hide the flash message after 5 seconds (adjust as needed)
            setTimeout(function () {
              var flashMessage = document.getElementById("flash-message");
              if (flashMessage) {
                flashMessage.style.display = "none";
              }
            }, 5000);
          </script>
        <% } %>
      </div>
    </div>

    
    <div class="posts">
      <%= user.username %> Posts
    </div>
    <div class="container" style="display: flex; gap: 15px">
      <div class="cards">
        <% user.posts.forEach(function(post){ %>
          <div class="card" style="width: 18rem; margin-top: 15px;">
            <img
              src="/images/uploads/<%= post.image %>"
              class="card-img-top"
              alt="..."
            />
            <div class="card-body">
              <h5 class="card-title"><%= post.imageText %></h5>
            </div>
          </div>
        <% }) %>
      </div>
    </div>
  </body>
</html>
